
{
    "id": "realistic-parking-ticket",
    "title": "Parking Ticket",
    "description": "A realistic parking ticket citation.",
    "icon": "SquareParking",
    "icon_color": "#1e6da5",
    "is_html_output": true,
    "custom_button_text": "Open MDC Record",
    "custom_button_link": "https://mdc.gta.world/record/{{vehicle_owner}}",
    "custom_button_replace_spaces": true,
    "output": "<table style=\"width:100%;font-family:'Times New Roman',serif;border-collapse:collapse;border:2px solid black;background-color:white;color:black;\"><tbody><tr><td colspan=\"4\" style=\"text-align:center;padding:8px;border-bottom:2px solid black;\"><h1 style=\"font-family:Arial,sans-serif;font-size:1.5rem;font-weight:700;margin:0;text-transform:uppercase;\">COUNTY OF LOS SANTOS</h1><h2 style=\"font-family:Arial,sans-serif;font-size:1rem;font-weight:600;margin:0;\">Parking Violation Notice</h2></td></tr><tr><td style=\"padding:4px;border-bottom:1px solid black;\" colspan=\"2\"><strong>Date:</strong> {{general.date}}</td><td style=\"padding:4px;border-bottom:1px solid black;\" colspan=\"2\"><strong>Time:</strong> {{general.time}}</td></tr><tr style=\"background-color:#e5e7eb;\"><td colspan=\"4\" style=\"padding:6px;border-top:1px solid black;border-bottom:1px solid black;text-align:center;font-weight:bold;\">VEHICLE INFORMATION</td></tr><tr><td style=\"padding:4px;\"><strong>Plate:</strong></td><td style=\"padding:4px;\">{{#if vehicle_plate}}{{vehicle_plate}}{{else}}N/A{{/if}}</td><td style=\"padding:4px;\"><strong>Make/Model:</strong></td><td style=\"padding:4px;\">{{vehicle_make_model}}</td></tr><tr><td style=\"padding:4px;\"><strong>Reg. Owner:</strong></td><td style=\"padding:4px;\">{{#if vehicle_owner}}{{vehicle_owner}}{{else}}N/A{{/if}}</td><td style=\"padding:4px;\"><strong>Reg. Status:</strong></td><td style=\"padding:4px;\">{{#if vehicle_registered}}Valid{{else}}Expired/None{{/if}}</td></tr><tr><td style=\"padding:4px;\" colspan=\"2\"><strong>Insurance:</strong> {{#if vehicle_insured}}Insured{{else}}Uninsured (Expired: {{insurance_expired_date}}){{/if}}</td><td style=\"padding:4px;\" colspan=\"2\"><strong>Location:</strong> {{location.street}}, {{location.district}}</td></tr><tr style=\"background-color:#e5e7eb;\"><td colspan=\"4\" style=\"padding:6px;border-top:2px solid black;border-bottom:1px solid black;text-align:center;font-weight:bold;\">VIOLATION(S)</td></tr><tr><td colspan=\"3\" style=\"padding:4px;font-weight:bold;border-bottom:1px solid #ccc;\">Description</td><td style=\"padding:4px;font-weight:bold;border-bottom:1px solid #ccc;text-align:right;\">Fine</td></tr>{{#each charges}}<tr><td colspan=\"3\" style=\"padding:4px;border-bottom:1px solid #eee;\">{{#with (lookup @root.penalCode chargeId)}}{{charge}}{{/with}}</td><td style=\"padding:4px;border-bottom:1px solid #eee;text-align:right;\">${{fine}}</td></tr>{{/each}}<tr><td colspan=\"3\" style=\"padding:4px;text-align:right;font-weight:bold;border-top:1px solid black;\">Total Due:</td><td style=\"padding:4px;text-align:right;font-weight:bold;border-top:1px solid black;\">${{charges_total_fine}}</td></tr><tr style=\"background-color:#e5e7eb;\"><td colspan=\"4\" style=\"padding:6px;border-top:2px solid black;border-bottom:1px solid black;text-align:center;font-weight:bold;\">REASON FOR CITATION</td></tr><tr><td colspan=\"4\" style=\"padding:8px;min-height:80px;white-space:pre-wrap;border-bottom:2px solid black;\">{{parking_reasons}}</td></tr><tr><td style=\"padding:4px;\"><strong>Issuing Officer:</strong></td><td style=\"padding:4px;\" colspan=\"2\">{{officers.0.name}}</td><td style=\"padding:4px;\"><strong>Badge #:</strong> {{officers.0.badgeNumber}}</td></tr></tbody></table>",
    "form": [
        { "type": "section", "title": "General Section" },
        { "type": "general", "name": "general" },
        { "type": "section", "title": "Officer Section" },
        { "type": "officer", "name": "officers", "showBadgeNumber": true, "multi": false },
        { "type": "section", "title": "Vehicle Details" },
        { "type": "group", "fields": [
            { "type": "better-switch", "name": "vehicle_registered", "label": "Registration Status", "dataOn": "Registered", "dataOff": "Unregistered", "defaultValue": true },
            { "type": "text", "name": "vehicle_owner", "label": "Registered Owner", "placeholder": "Firstname Lastname", "stipulation": {"field": "vehicle_registered", "value": true}},
            { "type": "text", "name": "vehicle_plate", "label": "Identification Plate", "placeholder": "###XXX", "stipulation": {"field": "vehicle_registered", "value": true}}
          ]
        },
        { "type": "group", "fields": [
            { "type": "better-switch", "name": "vehicle_insured", "label": "Insurance Status", "dataOn": "Insured", "dataOff": "Uninsured", "defaultValue": true },
            { "type": "text", "name": "insurance_expired_date", "label": "Insurance Expired Date", "placeholder": "DD/MM/YYYY", "stipulation": {"field": "vehicle_insured", "value": false}}
          ]
        },
        { "type": "datalist", "name": "vehicle_make_model", "label": "Make & Model", "placeholder": "e.g. Benefactor Dubsta", "optionsSource": "vehicles", "required": true, "defaultValue": "" },
        { "type": "section", "title": "Location Details" },
        { "type": "location", "name": "location", "showDistrict": true },
        { "type": "section", "title": "Charges" },
        { 
            "type": "charge",
            "name": "charges",
            "showClass": false,
            "showOffense": true,
            "allowedTypes": { "I": true },
            "customFields": [
                {
                    "type": "text",
                    "name": "fine",
                    "label": "Fine",
                    "placeholder": "Fine Amount"
                }
            ]
        },
        {
            "type": "hidden",
            "name": "charges_total_fine",
            "value": "{{#with (sum (pluck charges 'fine'))}}{{this}}{{/with}}"
        },
        { "type": "section", "title": "Parking Violation Details" },
        { 
            "type": "textarea",
            "name": "parking_reasons",
            "label": "Reason(s) for Citation",
            "placeholder": "List the reasons for the parking violation...",
            "required": true
        }
    ],
    "countyCityStipulation": true
}
